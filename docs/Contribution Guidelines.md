# Contribution Guidelines: Mutabor

## 1. Общие принципы

Привет! Спасибо за ваш вклад в развитие "Mutabor". Этот документ — свод правил, который помогает нам работать слаженно, поддерживать высокое качество кода и делать процесс разработки предсказуемым и эффективным.

## 2. Git Workflow: GitHub Flow

Мы используем простую и эффективную модель **GitHub Flow**.

1.  Ветка `main` — это наш единственный источник истины. Она всегда должна быть стабильной и готовой к развертыванию.
2.  **Не коммитьте напрямую в `main`**.
3.  Для любой новой работы создавайте ветку от актуальной версии `main`.
4.  Когда работа завершена, создайте Pull Request (PR) в `main`.
5.  После успешного ревью и прохождения всех автоматических проверок, ваш PR будет слит в `main`.

## 3. Именование веток

Название ветки должно содержать тип изменений, номер задачи из "Mutabor" и краткое описание. Это позволяет мгновенно связать код с бизнес-контекстом.

**Формат:** `type/TASK-123-short-description-in-kebab-case`

-   **`type`**: Тип изменений (`feat`, `fix`, `refactor`, `docs`, `test`, `chore`).
-   **`TASK-123`**: ID задачи из нашего таск-менеджера "Mutabor".
-   **`short-description`**: Краткое описание на английском языке.

-   **Примеры:**
    -   `feat/MUT-42-add-task-comments`
    -   `fix/MUT-45-fix-login-form-validation`
    -   `docs/MUT-51-update-contribution-guide`

## 4. Формат коммитов: Conventional Commits

Мы придерживаемся стандарта **Conventional Commits**. Это позволяет нам поддерживать читаемую историю, автоматически генерировать списки изменений (changelog) и управлять версиями.

**Формат:** `type(scope): subject`

-   **`type`**: Тип коммита (`feat`, `fix`, и т.д.).
-   **`scope`** (опционально): Часть приложения (`auth`, `tasks`, `api`, `ui`).
-   **`subject`**: Краткое, осмысленное описание в настоящем времени. В конце сообщения можно указать номер задачи: `(closes MUT-42)`.

-   **Примеры:**
    -   `feat(tasks): add comments section to task modal (closes MUT-42)`
    -   `fix(auth): correctly handle JWT expiration error (closes MUT-45)`
    -   `refactor(api): simplify user service logic`

## 5. Процесс Pull Request (PR) и Code Review

PR — это основной инструмент для обсуждения и проверки кода. Мы стремимся к максимальной автоматизации этого процесса.

### Создание PR
-   Убедитесь, что ваш код соответствует всем правилам из `Layer Guides` и `Design System`.
-   Заполните описание вашего PR, используя **шаблон**, который появится автоматически. Он включает поля:
    -   **Что сделано?** (Краткое описание изменений)
    -   **Как проверить?** (Пошаговая инструкция для тестирования)
    -   **Связанная задача:** (Ссылка на задачу в Mutabor, например, `Closes MUT-42`)
-   Назначьте как минимум одного ревьюера из команды.

### Процесс ревью
-   Для слияния PR требуется как минимум **одно одобрение** (`Approve`) от другого члена команды.
-   **Локальные проверки (тесты, линтер) должны быть пройдены успешно.** Перед отправкой PR на ревью убедитесь, что все тесты (`npm run test` в соответствующей директории) и линтеры (`npm run lint`) проходят локально. PR с очевидными проблемами, которые могли быть выявлены локально, может быть отклонен до исправления.
-   **(В будущем) CI-проверки:** Мы планируем внедрить автоматические CI-проверки (тесты, линтер) на стороне сервера. После их внедрения, они также должны будут быть "зелеными" для возможности слияния PR.
-   **Конструктивная критика:** Все обсуждения должны быть уважительными и по делу. Цель ревью — улучшить продукт.

### Слияние PR
-   После получения необходимого количества одобрений и успешного прохождения всех проверок (включая локальные и, в будущем, CI), PR будет слит в ветку `main`.
-   Предпочтительным методом слияния является **"Squash and merge"**, чтобы история коммитов в `main` оставалась чистой и каждый коммит соответствовал одному PR. Это обычно выполняется одним из мэйнтейнеров проекта.
-   После слияния PR, ветка фичи должна быть удалена. Это можно сделать через интерфейс GitHub или локально (`git branch -d type/TASK-123-short-description`). (В будущем это также может быть автоматизировано).

Мы стремимся к большей автоматизации этого процесса в будущем для обеспечения безопасности, предотвращения случайных ошибок и экономии времени.